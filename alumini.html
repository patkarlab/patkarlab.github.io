<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
  <meta name="description" content="Team members of the Molecular Hematology Research Group at ACTREC, Tata Memorial Centre, Mumbai, India." />
  <title>Team – Molecular Hematology Research Group</title>
  <style>
    :root{
      --ink:#0a1e78;
      --mut:#D80000;
    }

    * {
      box-sizing: border-box;
    }

    html, body { 
      margin:0; 
      padding:0; 
      background:#ffffff; 
    }
    
    body { 
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; 
      color: var(--ink);
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
    }

    /* Navigation bar */
    .nav {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 100;
      display: flex;
      gap: 8px;
      background: rgba(255,255,255,0.85);
      padding: 8px;
      border-radius: 999px;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: 0 2px 12px rgba(10,30,120,0.08);
    }

    .nav a {
      text-decoration: none;
      color: var(--ink);
      font-weight: 500;
      padding: 10px 20px;
      border-radius: 999px;
      transition: all 0.2s ease;
      font-size: 14px;
      white-space: nowrap;
    }

    .nav a:hover {
      background: rgba(10,30,120,0.08);
    }

    .nav a.active {
      background: var(--ink);
      color: white;
    }

    /* Canvas positioning */
    #nucleotideCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
      opacity: 0.35;
    }

    /* Main content container */
    .container {
      position: relative;
      z-index: 10;
      min-height: 100vh;
      padding: 100px 20px 60px;
      max-width: 1200px;
      margin: 0 auto;
    }

    /* Section headers */
    .section-title {
      font-size: clamp(24px, 4vw, 32px);
      font-weight: 700;
      color: var(--ink);
      margin: 40px 0 24px 0;
      padding: 12px 20px;
      background: rgba(255,255,255,0.92);
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
      border-radius: 12px;
      display: inline-block;
      border-left: 4px solid var(--mut);
    }

    .section-title:first-of-type {
      margin-top: 0;
    }

    /* Team grid */
    .team-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
      gap: 24px;
      margin-bottom: 40px;
    }

    /* Individual team member card */
    .team-member {
      background: rgba(255,255,255,0.92);
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
      border-radius: 16px;
      padding: 20px;
      text-align: center;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(10,30,120,0.06);
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .team-member:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(10,30,120,0.12);
    }

    .team-member img {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 12px;
      border: 3px solid rgba(10,30,120,0.1);
      transition: all 0.3s ease;
    }

    .team-member:hover img {
      border-color: var(--mut);
      transform: scale(1.05);
    }

    .team-member h3 {
      font-size: 18px;
      margin: 8px 0 4px 0;
      color: var(--ink);
      font-weight: 600;
    }

    .team-member p {
      font-size: 14px;
      color: rgba(10,30,120,0.7);
      margin: 4px 0;
    }

    .team-member .credentials {
      font-size: 12px;
      color: var(--mut);
      font-weight: 500;
      margin-top: 6px;
    }

    /* PI special styling */
    .pi-section .team-member {
      background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(216,0,0,0.05));
      max-width: 320px;
      margin: 0 auto;
    }

    .pi-section .team-member img {
      width: 140px;
      height: 140px;
      border-width: 4px;
    }

    .cv-link {
      display: inline-block;
      margin-top: 12px;
      padding: 8px 16px;
      background: var(--ink);
      color: white;
      border-radius: 20px;
      text-decoration: none;
      font-size: 13px;
      transition: all 0.3s ease;
    }

    .cv-link:hover {
      background: var(--mut);
      transform: scale(1.05);
    }

    /* Footer */
    .footer{ 
      position: fixed; 
      left: 0; 
      right: 0; 
      bottom: 12px; 
      text-align: center; 
      font-size: 11px; 
      opacity: .6; 
      z-index: 10;
      padding: 0 20px;
      pointer-events: none;
    }

    /* Mobile adjustments */
    @media (max-width: 768px) {
      .nav {
        top: 12px;
        padding: 6px;
        gap: 4px;
      }

      .nav a {
        padding: 8px 14px;
        font-size: 13px;
      }
      
      .container {
        padding: 80px 16px 50px;
      }

      .team-grid {
        grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
        gap: 16px;
      }

      .team-member img {
        width: 100px;
        height: 100px;
      }

      .team-member h3 {
        font-size: 16px;
      }

      .section-title {
        font-size: 22px;
        padding: 10px 16px;
      }

      #nucleotideCanvas {
        opacity: 0.45;
      }
    }

    /* Very small devices */
    @media (max-width: 380px) {
      .nav {
        gap: 2px;
        padding: 4px;
      }

      .nav a {
        padding: 6px 10px;
        font-size: 12px;
      }

      .team-grid {
        grid-template-columns: 1fr;
      }
    }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce) { 
      #nucleotideCanvas { display: none; }
      .team-member { transition: none; }
      .team-member img { transition: none; }
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="nav">
    <a href="index.html">Home</a>
    <a href="teams.html" class="active">Team</a>
    <a href="research.html">Research</a>
    <a href="social.html">Social</a>
  </nav>

  <!-- Animated nucleotide rain canvas (background) -->
  <canvas id="nucleotideCanvas" aria-hidden="true"></canvas>

  <!-- Main content -->
  <main class="container" role="main">
    <!-- Principal Investigator -->
    <section class="pi-section">
      <h2 class="section-title">Principal Investigator</h2>
      <div class="team-grid">
        <div class="team-member" onclick="downloadCV()">
          <img src="photos/teams/nikhil_patkar.jpg" alt="Prof. Nikhil Patkar" onerror="this.src='https://via.placeholder.com/140/0a1e78/ffffff?text=NP'">
          <h3>Prof. Nikhil Patkar</h3>
          <p class="credentials">MD, DNB</p>
          <a href="#" class="cv-link" onclick="event.stopPropagation(); downloadCV()">Download CV</a>
        </div>
      </div>
    </section>

    <!-- Scientific Staff -->
    <section>
      <h2 class="section-title">Scientific Staff</h2>
      <div class="team-grid">
        <div class="team-member">
          <img src="photos/teams/vishram_terse.jpg" alt="Dr. Vishram Terse" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=VT'">
          <h3>Dr. Vishram Terse</h3>
          <p>Staff Bioinformatician</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/swapnali_joshi.png" alt="Swapnali Joshi" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=SJ'">
          <h3>Swapnali Joshi</h3>
          <p>Scientific Officer</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/prassana_bhanshe.jpg" alt="Prasanna Bhanshe" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=PB'">
          <h3>Prasanna Bhanshe</h3>
          <p>Scientific Assistant</p>
        </div>
      </div>
    </section>

    <!-- Post Doctoral Fellow -->
    <section>
      <h2 class="section-title">Post Doctoral Fellow</h2>
      <div class="team-grid">
        <div class="team-member">
          <img src="photos/teams/drgojiri_mawalankar.jpg" alt="Dr. Gojiri Mawalankar" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=GM'">
          <h3>Dr. Gojiri Mawalankar</h3>
          <p class="credentials">MD, Pathology</p>
        </div>
      </div>
    </section>

    <!-- PhD Students -->
    <section>
      <h2 class="section-title">PhD Students</h2>
      <div class="team-grid">
        <div class="team-member">
          <img src="photos/teams/anuradha_sharma.jpg" alt="Anuradha Sharma" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=AS'">
          <h3>Anuradha Sharma</h3>
          <p>PhD Student</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/deepa_tiwari.jpeg" alt="Deepa Tiwari" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=DT'">
          <h3>Deepa Tiwari</h3>
          <p>PhD Student</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/payel_gupta.jpg" alt="Payel Gupta" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=PG'">
          <h3>Payel Gupta</h3>
          <p>PhD Student</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/neha_ghosh.jpg" alt="Neha Ghosh" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=NG'">
          <h3>Neha Ghosh</h3>
          <p>PhD Student</p>
        </div>
      </div>
    </section>

    <!-- Research Fellows -->
    <section>
      <h2 class="section-title">Research Fellows</h2>
      <div class="team-grid">
        <div class="team-member">
          <img src="photos/teams/aafrin_ansari.jpg" alt="Aafrin Ansari" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=AA'">
          <h3>Aafrin Ansari</h3>
          <p>Research Fellow</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/aarti_archekar.JPG" alt="Aarti Archekar" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=AA'">
          <h3>Aarti Archekar</h3>
          <p>Research Fellow</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/anand_tiwari.jpg" alt="Anand Tiwari" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=AT'">
          <h3>Anand Tiwari</h3>
          <p>Research Fellow</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/ayush_sheth.jpeg" alt="Ayush Sheth" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=AS'">
          <h3>Ayush Sheth</h3>
          <p>Research Fellow</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/elwin_paulose.jpg" alt="Elwin Paulose" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=EP'">
          <h3>Elwin Paulose</h3>
          <p>Research Fellow</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/gulnaz_zaidi.jpg" alt="Gulnaz Zaidi" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=GZ'">
          <h3>Gulnaz Zaidi</h3>
          <p>Bioinformatician</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/gunabrinda_nadar.jpg" alt="Gunabrinda Nadar" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=GN'">
          <h3>Gunabrinda Nadar</h3>
          <p>Research Fellow</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/harsh_pratik.heic" alt="Harsh Pratik" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=HP'">
          <h3>Harsh Pratik</h3>
          <p>Research Fellow</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/komal_kumbhalwar.jpg" alt="Komal Kumbhalwar" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=KK'">
          <h3>Komal Kumbhalwar</h3>
          <p>Research Fellow</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/moksha_dhoka.jpeg" alt="Moksha Dhoka" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=MD'">
          <h3>Moksha Dhoka</h3>
          <p>Research Fellow</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/nayana_mane.jpg" alt="Nayana Mane" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=NM'">
          <h3>Nayana Mane</h3>
          <p>Research Fellow</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/nishma_kumar.jpg" alt="Nishma Kumar" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=NK'">
          <h3>Nishma Kumar</h3>
          <p>Research Fellow</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/pragati_panigrahy.jpeg" alt="Pragati Panigrahy" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=PP'">
          <h3>Pragati Panigrahy</h3>
          <p>Research Fellow</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/rashmi_garag.jpg" alt="Rashmi Garag" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=RG'">
          <h3>Rashmi Garag</h3>
          <p>Research Fellow</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/vaibhav_gawde.png" alt="Vaibhav Gawde" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=VG'">
          <h3>Vaibhav Gawde</h3>
          <p>Bioinformatician</p>
        </div>
      </div>
    </section>

    <!-- Trial Coordinators -->
    <section>
      <h2 class="section-title">Trial Coordinators</h2>
      <div class="team-grid">
        <div class="team-member">
          <img src="photos/teams/aishwaryakumbhar.jpg" alt="Aishwarya Kumbhar" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=AK'">
          <h3>Aishwarya Kumbhar</h3>
          <p>Trial Coordinator</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/saniya_satpute.jpg" alt="Saniya Satpute" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=SS'">
          <h3>Saniya Satpute</h3>
          <p>Trial Coordinator</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/sinimole_maloor.jpg" alt="Sinimole Maloor" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=SM'">
          <h3>Sinimole Maloor</h3>
          <p>Trial Coordinator</p>
        </div>
        <div class="team-member">
          <img src="photos/teams/sushmita_mistry.jpg" alt="Sushmita Govind Mistry" onerror="this.src='https://via.placeholder.com/120/0a1e78/ffffff?text=SM'">
          <h3>Sushmita Govind Mistry</h3>
          <p>Trial Coordinator</p>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">© <span id="year"></span> Molecular Hematology Research Group · ACTREC · TMC</footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // Function to handle CV download
    function downloadCV() {
      // Replace 'nikhil_patkar_cv.pdf' with the actual CV file name
      window.open('photos/teams/nikhil_patkar_cv.pdf', '_blank');
    }

    // Detect if mobile device
    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    const isSmallScreen = window.innerWidth <= 768;
    
    const canvas = document.getElementById("nucleotideCanvas");
    const ctx = canvas.getContext("2d");

    // Adjust animation parameters for mobile
    const SPEED_FACTOR = isMobile ? 0.25 : 0.45;
    const LIFETIME_MS  = isMobile ? 2200 : 2800;
    const MUT_RATE     = 0.03;
    const COL_WIDTH    = isMobile ? 44 : 32;
    const ROW_SCALE_MIN = 1.3;
    const ROW_SCALE_MAX = 1.7;

    // HiDPI crispness with performance consideration
    function resizeCanvas() {
      const dpr = isMobile ? Math.min(window.devicePixelRatio || 1, 2) : (window.devicePixelRatio || 1);
      canvas.style.position = "fixed";
      canvas.style.top = 0; 
      canvas.style.left = 0; 
      canvas.style.width = window.innerWidth + "px";
      canvas.style.height = window.innerHeight + "px";
      canvas.width = Math.floor(window.innerWidth * dpr);
      canvas.height = Math.floor(window.innerHeight * dpr);
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    }
    resizeCanvas();

    const bases = ["A","T","G","C"];
    let columns = [];
    let animationId = null;

    function rand(a,b){ return a + Math.random()*(b-a); }

    function newColumn(i) {
      const fontSize = isMobile ? (14 + Math.random() * 20) : (18 + Math.random() * 28);
      const rowScale = rand(ROW_SCALE_MIN, ROW_SCALE_MAX);
      return {
        x: i * COL_WIDTH + Math.floor(COL_WIDTH * 0.5),
        y: Math.random() * window.innerHeight,
        speed: (0.8 + Math.random() * 1.2) * SPEED_FACTOR,
        fontSize,
        rowStep: fontSize * rowScale,
        depth: 0.6 + Math.random() * 0.8,
        lastEmitY: 0,
        trail: []
      };
    }

    function rebuildColumns() {
      const count = Math.max(1, Math.floor(window.innerWidth / COL_WIDTH));
      const maxCols = isMobile ? 12 : 36;
      const finalCount = Math.min(count, maxCols);
      
      columns = new Array(finalCount).fill(0).map((_, i) => {
        const c = newColumn(i);
        c.lastEmitY = c.y;
        return c;
      });
    }
    rebuildColumns();

    const easeOutQuad = t => 1 - (1 - t) * (1 - t);

    // Throttle animation on mobile
    let lastFrame = 0;
    const targetFPS = isMobile ? 30 : 60;
    const frameDelay = 1000 / targetFPS;

    function draw(now) {
      // FPS throttling for mobile
      if (isMobile && (now - lastFrame) < frameDelay) {
        animationId = requestAnimationFrame(draw);
        return;
      }
      lastFrame = now;

      // Clear with white background
      ctx.globalAlpha = 1;
      ctx.fillStyle = "#ffffff";
      ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);

      columns.forEach((col, idx) => {
        // Move the head
        col.y += col.speed * col.depth;

        // Emit new characters
        while (col.y - col.lastEmitY >= col.rowStep) {
          col.lastEmitY += col.rowStep;

          const char = bases[(Math.random() * bases.length) | 0];
          const isMut = Math.random() < MUT_RATE;

          col.trail.push({
            x: col.x,
            y: col.lastEmitY,
            char,
            color: isMut ? "#D80000" : "rgb(10,30,120)",
            size: col.fontSize,
            born: now
          });
        }

        // Recycle column
        if (col.y > window.innerHeight + col.rowStep) {
          const next = newColumn(idx);
          next.y = 0;
          next.lastEmitY = -next.rowStep;
          columns[idx] = next;
        }

        // Render & prune trail
        const alive = [];
        const maxTrailLength = isMobile ? 8 : 14;
        
        for (let i = 0; i < Math.min(col.trail.length, maxTrailLength); i++) {
          const g = col.trail[i];
          const age = now - g.born;
          if (age <= LIFETIME_MS) {
            const t = age / LIFETIME_MS;
            const alpha = (1 - easeOutQuad(t)) * 0.8;

            ctx.globalAlpha = alpha;
            
            if (!isMobile) {
              ctx.shadowColor = g.color;
              ctx.shadowBlur = Math.max(0, (g.size - 18) * 0.15);
            }

            ctx.font = `${g.size}px monospace`;
            ctx.fillStyle = g.color;
            ctx.fillText(g.char, g.x, g.y);

            alive.push(g);
          }
        }
        col.trail = alive;
      });

      ctx.globalAlpha = 1;
      ctx.shadowBlur = 0;
      animationId = requestAnimationFrame(draw);
    }
    
    // Start animation
    animationId = requestAnimationFrame(draw);

    // Debounced resize handler
    let resizeTimeout;
    window.addEventListener("resize", () => {
      clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(() => {
        resizeCanvas();
        rebuildColumns();
      }, 250);
    });

    // Pause animation when page is not visible (saves battery on mobile)
    document.addEventListener("visibilitychange", () => {
      if (document.hidden && animationId) {
        cancelAnimationFrame(animationId);
        animationId = null;
      } else if (!document.hidden && !animationId) {
        animationId = requestAnimationFrame(draw);
      }
    });

    // Respect reduced motion
    const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');
    function handleMotionPreference() {
      if (mediaQuery.matches) {
        if (animationId) {
          cancelAnimationFrame(animationId);
          animationId = null;
        }
        ctx.clearRect(0, 0, canvas.width, canvas.height);
      } else if (!animationId) {
        animationId = requestAnimationFrame(draw);
      }
    }
    mediaQuery.addEventListener?.('change', handleMotionPreference);
    handleMotionPreference();
  </script>
</body>
</html>
